{"version":3,"file":"static/js/922.ba342d6d.chunk.js","mappings":"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","sources":["components/service/serviceApi.jsx","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/MoviesInfo/Movies.module.css?057f","pages/MoviesInfo/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '2defa68d74572c770c8e2770c2623d03';\n\nasync function fetchTrendingMovie() {\n  const response = await axios.get(`/trending/all/day?api_key=${API_KEY}`);\n  return response.data;\n}\n\nasync function searchFilms(query) {\n  const response = await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return response.data;\n}\n\nasync function fetchActorsList(movieId) {\n  const response = await axios.get(`/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`);\n  return response.data;\n}\n\nasync function fetchReviews(movie_id) {\n  const response = await axios.get(\n    `/movie/${movie_id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data;\n}\n\nexport async function fetchDetailsMovie(movieId) {\n  const response = await axios.get(`movie/${movieId}?api_key=${API_KEY}`);\n  return response.data;\n}\nconst api = {\n  fetchTrendingMovie,\n  searchFilms,\n  fetchActorsList,\n  fetchReviews,\n  fetchDetailsMovie,\n}\nexport default api;","import { Link, useLocation } from 'react-router-dom';\n\nexport default function MoviesList({ films }) {\n  const location = useLocation();\n  return (\n    <ul>\n      {films.map(({id, poster_path, original_title, title}) => (\n        <li key={id}>\n          <Link\n            to={`/movies/${id}`}\n            state={{ from: location }}\n          >\n            <img\n              src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n              alt={title}\n              width=\"330\"\n              height=\"480\"\n            />\n            <p>{original_title}</p>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"Form\":\"Movies_Form__dQHsJ\",\"Input\":\"Movies_Input__kzxFe\",\"Button\":\"Movies_Button__FFtuV\"};","import { useState, useEffect } from \"react\"\nimport { useSearchParams } from \"react-router-dom\";\nimport api from '../../components/service/serviceApi'\nimport MoviesList from '../../components/MoviesList/MoviesList'\nimport { toast } from 'react-toastify';\nimport css from './Movies.module.css'\n\nconst Movies = () => {\n    const [name, setName] = useState('');\n    const [films, setFilms] = useState([]);\n    const [searchParams, setSearchParams] = useSearchParams();\n\n    const query = searchParams.get('query');\n\n    useEffect(() => {\n            query &&\n                api.searchFilms(query).then(response => {\n                    if (response.results.length === 0) {\n                        toast.warning(`Not found!`);\n                    }\n                    setFilms(response.results);\n                });\n    },[query]);\n\n    const handleChange = event => {\n        setName(event.currentTarget.value.toLowerCase());\n    }\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        if (name.trim() === '') {\n        return toast.error('Please enter a name to search!');\n        }\n        setSearchParams({ query: name });\n        setName('');\n    };\n\n        \n    \n    return (\n        <div>\n            <form className={css.Form} onSubmit={handleSubmit}>\n                <input\n                    className={css.Input}\n                    type=\"text\"\n                    placeholder=\"Enter the name of the movie\"\n                    value={name}\n                    name=\"name\"\n                    onChange={handleChange}\n                    required\n                    pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n                />\n                <button className={css.Button} type=\"submit\">Search</button>\n            </form>\n            {films.length > 0 && <MoviesList films={films} />}\n        </div>\n    )\n}\nexport default Movies;"],"names":["axios","API_KEY","fetchTrendingMovie","response","data","searchFilms","query","fetchActorsList","movieId","fetchReviews","movie_id","api","fetchDetailsMovie","MoviesList","films","location","useLocation","map","id","poster_path","original_title","title","to","state","from","src","alt","width","height","useState","name","setName","setFilms","useSearchParams","searchParams","setSearchParams","get","useEffect","then","results","length","toast","className","css","onSubmit","event","preventDefault","trim","type","placeholder","value","onChange","currentTarget","toLowerCase","required","pattern"],"sourceRoot":""}